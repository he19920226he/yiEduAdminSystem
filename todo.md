<!--
 * @Description: 
 * @version: 
 * @Author: lxw
 * @Date: 2019-12-11 09:16:15
 * @LastEditors: lxw
 * @LastEditTime: 2020-03-24 16:59:49
 -->
### todo记录：
1. ~~关于所有的模糊查询的接口需要加上分页功能~~
2. ~~添加权限接口不行~~
3. 给角色分配权限功能还没有开始
4. ~~任意一个触发了权限修改的都需要更新对应的菜单。~~
5. 课程分类管理页面 + ~~回复评论查询页面~~
6.如下的todo:
> 课程类别的话就是不使用图片，使用已经做了的背景层，显示相关类别的信息即可
 >课程的话：需要显示图文列表。目前是使用课程imgs属性网络图片的形式。还有轮播也是对应的课程，只是以轮播的形式展示。
> 管理端视频展示页面：图文盒子布局参考：https://ke.qq.com/
7. 禁用教师：修改教师状态问题：禁用是设置为1，查询仍然需要支持查询出来只是状态不一样而已。

10. 查询评论哪里把条件查询合在一个接口，就像查询学生教师那样。
7. 问题：由于我们的菜单是与权限绑定的，也就是我们没有做独立的菜单管理。你说当前用户的菜单希望不要显示一些，我们这里是删除了用户权限用户没有了这个权限对应菜单也就不会显示。


核心：
- 单页面应用的状态共享：高级操作封装和优雅使用达到优雅地实现都组件共享一个状态信息--vuex
> 应用一：菜单动态修改后自动更新菜单栏
```js
// 设置顶栏菜单数据
 this.$store.commit('d2admin/menu/headerSet', menuHeader)
```
> 应用二：当前账号登录者修改自己的账号信息后自动更新其他组件使用到相关信息的地方
```js
       // vuex存储的登录账号信息更新
        this.$store.dispatch('d2admin/user/set',
          {
            name: this.formAdminer.name
          },
          {
            root: true
          }
```
- 数据持久化：封装localStorage
- 菜单数据结构算法
- 后台数据库改成阿里云服务器，经常报错：com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure
> 后来排查后发现是由于在阿里云服务器的安装的mysql版本问题，
> http://localhost:8080/swagger-ui.htm

### 业务逻辑功能实现设计
- 多级查询功能的设计和优化：
> 条件字段封装，数据绑定，
> 条件字段统一过滤处理，每次查询，根据过滤后的条件判断是否根据数目条件进行查询，得到传递给后台的参数data，再调用 对应的 封装 的api模块获取查询结果。
> 封装调用api发送请求模块，多出入口仅仅需要调用模块

### 开发分支与master分支
测试无误，合并到master分支后，再进行一些额外的代码优化和其他一些细节处理
打包，自动部署到服务器。

- 后台部分，虽然后台不是自己做的 ，但是后面自己想要完善一下项目的时候发现后台部分还是有不少问题，再看后台代码的基础上可以修改的bug就基本自己填坑修bug，毕竟不想麻烦别人，别人也是在找工作

### 上线后需要对网络环境进行相关判断，否则用户突然断网，或觉得不知所措
- 一方面通过接口状态码码拦截报错，提示用户是否是网络未连接：但是需要客户端调用了接口
- 另一方面使用html5的navigator新特性的onLine属性判断
> 兼容性:IE6+、Safari 5+支持的比较好； Chrome需要12以上；
https://www.cnblogs.com/libinblog/p/4239269.html

### video相关：https://www.cnblogs.com/rogerwu/p/10072119.html
- 当video src载入的资源还有载入完毕时，无法获取video dom元素
- 初次载入视频（这里video采用的是仅仅预先加载元数据），网络连接问题的判断和处理
- 视频播放过程的error监听处理
- 视频刷新按钮
- 视频dialog的关闭：仅暂停视频，不销毁当前载入的视频，这样一方面可以避免重复加载相同的视频，另一方面也是一种实现进度保存的简单方法，再次进入同一个视频可以从之前观看的位置开始
